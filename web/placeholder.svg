<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 450">
  <!-- Background with enhanced gradient -->
  <defs>
    <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#4a6fa5" />
      <stop offset="50%" stop-color="#34495e" />
      <stop offset="100%" stop-color="#2c3e50" />
    </linearGradient>
    
    <!-- Glow effects -->
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feComposite in="SourceGraphic" in2="blur" operator="over"/>
    </filter>
    
    <!-- Gradient for endpoints -->
    <linearGradient id="endpoint-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#3498db" />
      <stop offset="100%" stop-color="#2980b9" />
    </linearGradient>
  </defs>
  
  <!-- Background rectangle -->
  <rect width="600" height="450" fill="url(#bg-gradient)" />
  
  <!-- Grid pattern for background -->
  <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#34495e" stroke-width="1" opacity="0.3"/>
  </pattern>
  <rect width="600" height="450" fill="url(#grid)" opacity="0.2"/>
  
  <!-- Main API Gateway -->
  <rect x="250" y="175" width="100" height="60" rx="10" fill="#ffffff" opacity="0.9" filter="url(#glow)" />
  <text x="300" y="195" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50" text-anchor="middle">API GATEWAY</text>
  <text x="300" y="215" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50" text-anchor="middle" opacity="0.8">REST API</text>
  
  <!-- Database representation -->
  <rect x="260" y="260" width="80" height="40" fill="#8e44ad" opacity="0.8" />
  <rect x="255" y="265" width="90" height="10" fill="#9b59b6" opacity="0.8" />
  <rect x="250" y="270" width="100" height="10" fill="#9b59b6" opacity="0.8" />
  <text x="300" y="285" font-family="Arial, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">DATABASE</text>
  
  <!-- Endpoint nodes with enhanced styling -->
  <g class="endpoints">
    <!-- GET endpoint -->
    <circle cx="100" cy="100" r="25" fill="url(#endpoint-gradient)" filter="url(#glow)" />
    <circle cx="100" cy="100" r="20" fill="#ffffff" opacity="0.9" />
    <text x="100" y="105" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c3e50" text-anchor="middle">GET</text>
    
    <!-- POST endpoint -->
    <circle cx="500" cy="100" r="25" fill="url(#endpoint-gradient)" filter="url(#glow)" />
    <circle cx="500" cy="100" r="20" fill="#ffffff" opacity="0.9" />
    <text x="500" y="105" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c3e50" text-anchor="middle">POST</text>
    
    <!-- PUT endpoint -->
    <circle cx="300" cy="350" r="25" fill="url(#endpoint-gradient)" filter="url(#glow)" />
    <circle cx="300" cy="350" r="20" fill="#ffffff" opacity="0.9" />
    <text x="300" y="355" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c3e50" text-anchor="middle">PUT</text>
    
    <!-- DELETE endpoint -->
    <circle cx="100" cy="350" r="25" fill="url(#endpoint-gradient)" filter="url(#glow)" />
    <circle cx="100" cy="350" r="20" fill="#ffffff" opacity="0.9" />
    <text x="100" y="355" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c3e50" text-anchor="middle">DELETE</text>
    
    <!-- PATCH endpoint -->
    <circle cx="500" cy="350" r="25" fill="url(#endpoint-gradient)" filter="url(#glow)" />
    <circle cx="500" cy="350" r="20" fill="#ffffff" opacity="0.9" />
    <text x="500" y="355" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c3e50" text-anchor="middle">PATCH</text>
  </g>
  
  <!-- Connection lines with animation markers -->
  <g class="connections">
    <!-- Main connections to API Gateway -->
    <line x1="100" y1="100" x2="250" y2="190" stroke="#3498db" stroke-width="2" opacity="0.7" />
    <line x1="500" y1="100" x2="350" y2="190" stroke="#3498db" stroke-width="2" opacity="0.7" />
    <line x1="300" y1="350" x2="300" y2="235" stroke="#3498db" stroke-width="2" opacity="0.7" />
    <line x1="100" y1="350" x2="250" y2="235" stroke="#3498db" stroke-width="2" opacity="0.7" />
    <line x1="500" y1="350" x2="350" y2="235" stroke="#3498db" stroke-width="2" opacity="0.7" />
    
    <!-- Database connections -->
    <line x1="300" y1="260" x2="300" y2="300" stroke="#8e44ad" stroke-width="2" opacity="0.7" stroke-dasharray="5,5" />
  </g>
  
  <!-- Data flow indicators -->
  <circle cx="180" y="145" r="5" fill="#e74c3c">
    <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" repeatCount="indefinite" />
  </circle>
  <circle cx="420" y="145" r="5" fill="#2ecc71">
    <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" repeatCount="indefinite" />
  </circle>
  
  <!-- Enhanced status code indicators -->
  <g class="status-codes">
    <!-- Success codes -->
    <rect x="50" y="130" width="70" height="25" rx="8" fill="#27ae60" opacity="0.9" />
    <text x="85" y="146" font-family="Arial, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">200 OK</text>
    
    <rect x="480" y="130" width="70" height="25" rx="8" fill="#27ae60" opacity="0.9" />
    <text x="515" y="146" font-family="Arial, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">201 Created</text>
    
    <!-- Client error codes -->
    <rect x="50" y="380" width="70" height="25" rx="8" fill="#e74c3c" opacity="0.9" />
    <text x="85" y="396" font-family="Arial, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">404</text>
    
    <rect x="480" y="380" width="70" height="25" rx="8" fill="#f39c12" opacity="0.9" />
    <text x="515" y="396" font-family="Arial, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">400</text>
    
    <!-- Additional status code -->
    <rect x="265" y="385" width="70" height="25" rx="8" fill="#3498db" opacity="0.9" />
    <text x="300" y="401" font-family="Arial, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">204</text>
  </g>
  
  <!-- Authentication indicator -->
  <circle cx="300" cy="80" r="15" fill="#f39c12" opacity="0.9" />
  <text x="300" y="84" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">AUTH</text>
  
  <!-- Rate limiting indicator -->
  <rect x="280" y="45" width="40" height="20" rx="5" fill="#e74c3c" opacity="0.9" />
  <text x="300" y="58" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">RATE</text>
  
  <!-- Load balancer -->
  <rect x="150" y="40" width="100" height="30" rx="5" fill="#1abc9c" opacity="0.9" />
  <text x="200" y="59" font-family="Arial, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">LOAD BALANCER</text>
  
  <!-- Microservices representation -->
  <circle cx="400" cy="280" r="12" fill="#e67e22" opacity="0.8" />
  <circle cx="430" cy="280" r="12" fill="#e67e22" opacity="0.8" />
  <circle cx="460" cy="280" r="12" fill="#e67e22" opacity="0.8" />
  <text x="430" y="285" font-family="Arial, sans-serif" font-size="6" fill="#ffffff" text-anchor="middle">MICROSERVICES</text>
  
  <!-- Cache layer -->
  <rect x="150" y="280" width="100" height="30" rx="5" fill="#9b59b6" opacity="0.9" />
  <text x="200" y="299" font-family="Arial, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">CACHE</text>
  
  <!-- API versioning -->
  <text x="300" y="330" font-family="Arial, sans-serif" font-size="12" fill="#ffffff" text-anchor="middle" opacity="0.8">v1.0 | v2.0 | v3.0</text>
  
  <!-- Request/Response flow labels -->
  <text x="150" y="120" font-family="Arial, sans-serif" font-size="9" fill="#ecf0f1" text-anchor="middle" opacity="0.8">Request</text>
  <text x="450" y="120" font-family="Arial, sans-serif" font-size="9" fill="#ecf0f1" text-anchor="middle" opacity="0.8">Response</text>
  
  <!-- Security badge -->
  <rect x="500" y="40" width="80" height="25" rx="12" fill="#27ae60" opacity="0.9" />
  <text x="540" y="56" font-family="Arial, sans-serif" font-size="9" fill="#ffffff" text-anchor="middle">HTTPS</text>
  
  <!-- Monitoring indicator -->
  <circle cx="550" cy="200" r="8" fill="#e74c3c">
    <animate attributeName="r" values="8;10;8" dur="1.5s" repeatCount="indefinite" />
  </circle>
  <text x="550" y="215" font-family="Arial, sans-serif" font-size="8" fill="#ecf0f1" text-anchor="middle">MONITOR</text>
  
  <!-- Documentation link -->
  <rect x="250" y="400" width="100" height="25" rx="5" fill="#3498db" opacity="0.9" />
  <text x="300" y="416" font-family="Arial, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">API DOCS</text>
</svg>
